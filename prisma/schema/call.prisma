model Call {
  id String @id @default(uuid())

  type   CallType   @default(AUDIO) // call type video for audio
  status CallStatus @default(CALLING)

  fromId String
  from   User   @relation("outgoingcall", fields: [fromId], references: [id], onDelete: Cascade)

  toId String
  to   User   @relation("incommingcall", fields: [toId], references: [id], onDelete: Cascade)

  startedAt DateTime?
  endedAt   DateTime?
  metadata  Json?

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([fromId])
  @@index([toId])
  @@index([status])
  @@map("call")
}
