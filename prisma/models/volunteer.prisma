// -----------------------------------
// VOLUNTEER HUB
// -----------------------------------

model VolunteerProject {
  id            String         @id @default(cuid())
  createdById   String
  createdBy     User           @relation(fields: [createdById], references: [id])
  title         String
  description   String
  location      String?
  remoteAllowed Boolean        @default(false)
  status        VolunteerStatus @default(OPEN)
  applications  VolunteerApplication[]
  endorsements  Endorsement[]
  createdAt     DateTime       @default(now())
}

model VolunteerApplication {
  id        String           @id @default(cuid())
  userId    String
  user      User             @relation(fields: [userId], references: [id])
  projectId String
  project   VolunteerProject @relation(fields: [projectId], references: [id])
  status    ApplicationStatus @default(PENDING)
  createdAt DateTime         @default(now())

  @@unique([userId, projectId])
}

model Endorsement {
  id          String           @id @default(cuid())
  fromUserId  String
  fromUser    User             @relation("endorser", fields: [fromUserId], references: [id])
  toUserId    String
  toUser      User             @relation("endorsee", fields: [toUserId], references: [id])
  message     String
  projectId   String?
  project     VolunteerProject? @relation(fields: [projectId], references: [id])
  createdAt   DateTime         @default(now())
}