model Order {
  id String @id @default(uuid())

  // Order buyer
  buyerId String
  buyer   User   @relation("UserOrders", fields: [buyerId], references: [id], onDelete: Cascade)

  // Product being ordered
  productId String
  product   Product @relation(fields: [productId], references: [id], onDelete: Restrict)

  // Order details
  quantity   Int         @default(1)
  totalPrice Float // Total order amount
  status     OrderStatus @default(PENDING)

  // Shipping information
  shippingAddress String? @db.Text
  trackingNumber  String?
  payments Payment[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([buyerId])
  @@index([productId])
  @@index([createdAt])
  @@map("orders")

}
enum OrderStatus {
  PENDING
  PAID
  PAYMENT_FAILED
  CANCELLED
  COMPLETED
}

