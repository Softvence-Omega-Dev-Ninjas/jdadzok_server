model Chat {
  id String @id @default(uuid())

  type ChatType @default(TEXT) // Direct message or group chat
  name String? // Group chat name (null for direct messages)

  // Chat creator
  createdById String
  createdBy   User   @relation(fields: [createdById], references: [id], onDelete: Cascade)

  // Chat participants and messages
  participants ChatParticipant[]
  messages     Message[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([createdById])
  @@index([type])
  @@map("chats")
}
